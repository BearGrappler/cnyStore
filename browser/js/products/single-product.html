<section class="single-product">
    <button class="btn btn-danger" style="float:right; margin-right: 20px" ng-click="editView = !editView" ng-show="isAdmin">EDIT PRODUCT</button>
    <div ng-show="!editView && hasUpgrades()" class="configuration-selector">
        <h3> Upgrades: </h3>
        <div class="upgrade" ng-show="product.ram.length >= 1">
            <label>RAM</label>
            <br>
            <img src="{{selectedRam.imageUrls[0]}}">
            <br>
            <select ng-change="calculatePrice()" ng-options="item.name for item in product.ram" ng-model="selectedRam"></select>
        </div>
        <div class="upgrade" ng-show="product.cpu.length >= 1">
            <label>CPU</label>
            <br>
            <img src="{{selectedCpu.imageUrls[0]}}">
            <br>
            <select ng-change="calculatePrice()" ng-options="item.name for item in product.cpu" ng-model="selectedCpu"></select>
        </div>
        <div class="upgrade" ng-show="product.hdd.length >= 1">
            <label>HDD</label>
            <br>
            <img src="{{selectedHdd.imageUrls[0]}}">
            <br>
            <select ng-change="calculatePrice()" ng-options="item.name for item in product.hdd" ng-model="selectedHdd"></select>
        </div>
        <div class="upgrade" ng-show="product.gpu.length >= 1">
            <label>GPU</label>
            <br>
            <img src="{{selectedGpu.imageUrls[0]}}">
            <br>
            <select ng-change="calculatePrice()" ng-options="item.name for item in product.gpu" ng-model="selectedGpu"></select>
        </div>
    </div>


    <div class="recommended-config" ng-show="recommendedConfig">
        <h2>Recommended <br>Configuration:</h2>
        <span ng-repeat="key in options">
            <h3>{{key}}</h3>
            <p>{{recommendedConfig[key].name}}</p>
            <p>{{recommendedConfig[key].price}}</p>
        </span>
    </div>


    <div class="single-product-info">
        <button class="btn" id="cart" ng-click="addToCart()">ADD TO CART</button>
        <div class="images">
            <img ng-repeat="url in product.imageUrls" class="product-photo" src="{{url}}">
        </div>
        <h1 class="product-name"> {{product.name}} </h1>
        <h3 class="product-price"> ${{price}} </h3>
        <p class="product-description"> {{product.description}} </p>
        <form ng-show="editView" ng-model="updatedProduct">
            <input type="text" ng-model="updatedProduct.name">
            <input type="text" ng-model="updatedProduct.price">
            <textarea ng-model="updatedProduct.description"></textarea>
            <button class="btn-danger" ng-click="deleteProduct()">Delete Product</button>
            <button type="submit" ng-click="updateProduct()">Update Product</button>
        </form>
    </div>
    <div class="reviews col-lg-6" >
        <h2>Reviews:</h2>
        <div class="review" ng-repeat="review in product.Reviews">
            <p>{{review.writtenReview}}</p>
        </div>
        <form class="create-review" ng-show="isUser" ng-model="review">
            <label>Add Review:</label>
            Star Rating
            <select ng-model="review.rating">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
            <textarea class="form-control" placeholder="Review Content" ng-model="review.writtenReview"></textarea>
            <button type="submit" class="btn" ng-click="addReview()">Submit</button>
        </form>
    </div>
</section>
